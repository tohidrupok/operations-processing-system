{% extends 'partials/base0.html' %}
{% load static %}
{% block content %}

<h2>Bank Accounts</h2>

<div style="margin-bottom: 20px;">
    <a href="{% url 'bank_account_create' %}" style="background-color: #4CAF50; color: white; padding: 10px 15px; text-decoration: none; border-radius: 5px;">➕ Create New Account</a>
</div>

<div style="margin-bottom: 20px;">
    <strong>Total Accounts:</strong> {{ total_accounts }}<br>
    <strong>Total Balance:</strong> {{ total_balance }} TK
</div>

<table style="width: 100%; border-collapse: collapse; margin-bottom: 20px;">
    <thead>
        <tr style="background-color: #f2f2f2;">
            <th style="padding: 10px; border: 1px solid #ddd;">Bank</th>
            <th style="padding: 10px; border: 1px solid #ddd;">Account Name</th>
            <th style="padding: 10px; border: 1px solid #ddd;">Account Number</th>
            <th style="padding: 10px; border: 1px solid #ddd;">Type</th>
            <th style="padding: 10px; border: 1px solid #ddd;">Balance</th>
            <th style="padding: 10px; border: 1px solid #ddd;">Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for account in accounts %}
        <tr>
            <td style="padding: 10px; border: 1px solid #ddd;">{{ account.bank.name }}</td>
            <td style="padding: 10px; border: 1px solid #ddd;">{{ account.account_name }}</td>
            <td style="padding: 10px; border: 1px solid #ddd;">{{ account.account_number }}</td>
            <td style="padding: 10px; border: 1px solid #ddd;">{{ account.get_account_type_display }}</td>
            <td style="padding: 10px; border: 1px solid #ddd;">{{ account.balance }} TK</td>
            <td style="padding: 10px; border: 1px solid #ddd;">
                <a href="{% url 'bank_account_update' account.pk %}">✏️ Edit</a> 
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="6" style="padding: 10px; text-align: center;">No bank accounts found.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}